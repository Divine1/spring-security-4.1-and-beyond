<html>
	<head>
	<title>SecureMail: Spring Session</title>
	<link rel="icon" type="image/x-icon" href="./assets/img/favicon.ico"/>
	<link href="./webjars/bootstrap/css/bootstrap.css" rel="stylesheet"></link>
	<link href="./assets/css/custom.css" rel="stylesheet"></link>
	</head>


	<body>
			<!-- Static navbar -->
			<nav class="navbar navbar-default">
				<div class="container">
				<div class="container-fluid">
					<div class="navbar-header">
						<button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="/"><img src="./assets/img/logo.png" alt="Spring Security Sample"/></a>
					</div>
					<div class="navbar-collapse collapse" id="navbar">
						<ul class="nav navbar-nav">
							<li><a href="/messages/inbox">Inbox</a></li>
							<li><a href="/messages/sent">Sent</a></li>
							<li><a href="/messages/sent">Compose</a></li>
						</ul>
						<ul class="nav navbar-nav navbar-right" th:if="${currentUser != null}">
							<li class="dropdown">
								<!-- the username is obtained from /authenticate and should be invoked anytime a 401 is received from any of the other URLs -->
								<a id="user-menu" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">the_username</a>
								<ul class="dropdown-menu">
										<li><!--  perform POST to /logout w/ the CSRF token --><a id="sign-out" href="/logout">Sign Out</a></li>
								</ul>
							</li>
						</ul>

					</div><!--/.nav-collapse -->
				</div><!--/.container-fluid -->
				</div>
			</nav>
	<div class="container">
		<!-- Main component for a primary marketing message or call to action -->
		<div>
			<h1>Inbox</h1>
			<table class="table">
				<thead>
					<tr>
						<th>Created</th>
						<th>Summary</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody>
					<!-- foreach message in /messages/inbox -->
					<tr>
						<td data-bind="text: created">Jan 1, 2016</td>
						<!-- do GET request to current message and display the details -->
						<td><a href="/messages/1">The message summary</a></td>
						<!-- do DELETE to current message resource -->
						<td><a href="/messages/1">Delete</a></td>
					</tr>
				</tbody>
			</table>
		</div>

		<!--

				<div>
					<h1>Sent</h1>
					<table class="table">
						<thead>
							<tr>
								<th>Created</th>
								<th>Summary</th>
								<th>Delete</th>
							</tr>
						</thead>
						<tbody>
							foreach message in /messages/sent
							<tr>
								<td data-bind="text: created">Jan 1, 2016</td>
								do GET request to current message and display the details
								<td><a href="/messages/1">The message summary</a></td>
								do DELETE to current message resource
								<td><a href="/messages/1">Delete</a></td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="container" data-bind="with: chosenMessageData">
					<h1>Message : <span data-bind="text: summary"></span></h1>
				<dl>
					<dt>Created</dt>
					<dd data-bind="text: created"></dd>
					<dt>Message</dt>
					<dd data-bind="text: text"></dd>
				</dl>
			</div>

			<div class="container" data-bind="with: compose">
				<h1>Messages : Create</h1>
				<div class="alert alert-error" data-bind="foreach: $root.errors, visible: $root.errors().length">
					<p data-bind="text: $data"></p>
				</div>
				<form action="./" method="post">
					<label for="toEmail">To</label>
					<input type="text" id="toEmail" name="toEmail" data-bind="value: toEmail, valueUpdate: 'keyup'" class="input-xxlarge" />
					<input type="hidden" id="to" name="to" data-bind="value: to"/>
					<label for="summary">Summary</label>
					<input type="text" id="summary" data-bind="value: summary" name="summary" class="input-xxlarge" />
					<label for="text">Message</label>
					<textarea name="text" id="text" data-bind="value: text" class="input-xxlarge"> </textarea>
					<div class="form-actions">
						<input type="button" data-bind="click: $root.save" value="Create" />
					</div>
				</form>
			</div>

			<div class="container">
				<h1>Log In</h1>
				<div class="alert alert-error"
					data-bind="foreach: $root.errors, visible: $root.errors().length">
					<p data-bind="text: $data"></p>
				</div>
				<form action="./authenicate" method="post">
					<label for="email">Username</label>
					<input type="text" id="email" class="input-xxlarge" />

					<label for="password">Password</label>
					<input type="password" id="password" name="password" class="input-xxlarge" />
					<div class="form-actions">
						<input type="button"
							value="Log In" />
					</div>
				</form>
			</div>
	-->

			</div> <!-- /container -->
		<footer>
			<div class="container hidden-print">
				<div class="text-center">
					<p class="muted credit">Visit the <a href="#">Spring Security</a> site for more <a href="#">samples</a>.</p>
				</div>
			</div>
		</footer>

		<script src="/webjars/jquery/jquery.min.js"></script>
		<script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
</html>